% exercise_04_07_02a.m
% 問題 4.7 (2)：定常位置偏差

clear
format compact

disp(' ')
disp('==================================================')
disp(' 問題 4.7 (2) ')
disp('==================================================')

s = tf('s');

disp(' ')
disp('++++++++++++++++++++++++++++++++++++++++++++++++++')
disp(' 制御対象 P(s) = 5/(s^2 + 2*s + 2)')
disp('++++++++++++++++++++++++++++++++++++++++++++++++++')

sysP = 5/(s^2 + 2*s + 2);

disp(' ')
disp('++++++++++++++++++++++++++++++++++++++++++++++++++')
disp(' コントローラ C(s) = (kP*s + kI)/s')
disp('++++++++++++++++++++++++++++++++++++++++++++++++++')

kP = 2
kI = 1.25

sysC = (kP*s + kI)/s

disp(' ')
disp('--------------------------------------------------')
disp('  Ger(s) = 1/(1 + P(s)*C(s))')
disp('--------------------------------------------------')

sysL   = minreal(sysP*sysC);
sysGer = minreal(1/(1 + sysL))

[numGer denGer] = tfdata(sysGer,'v');

disp(' ')
disp('--------------------------------------------------')
disp('  Ger(s) の極')
disp('--------------------------------------------------')
p = pole(sysGer)

disp(' ')
disp('--------------------------------------------------')
disp('  定常位置偏差 e_inf = Ger(0)')
disp('--------------------------------------------------')

e_inf = sym(numGer(end)/denGer(end))



